# REST API
REST API в WordPress.  
https://wp-kama.ru/handbook/rest - учебник  
https://wp-kama.ru/function-cat/rest-api - функции

WordPress REST API:
- манипулирует текстовыми данными без прямого доступа к БД
- использует формат JSON
- JSON располагается на уникальных веб-адресах
- до JSON добирается через HTTP
- может работать с любым приложением и языком программирования, если они знают HTTP запросы
- в ответ на запрос всегда возвращается JSON объект с данными.
- работа может быть публичной или приватной, при приватном доступе данными можно управлять, это можно сделать через плагин или создать свой интерфейс админки
- заменяет AJAX WordPress

Позволяет получать/создавать/изменять/удалять посты, элементы таксономии, юзеров, комментарии и т.п. Делется это через URL (маршруты). Можно создать свой интерфейс админки и администрироватьс сайт с помощью него.

Суть работы:
- кастомные маршруты
- register_rest_route() - функция создания маршрута
- клиент для работы с REST API (инспектор браузера, Postman)

## Маршрут
https://wp-kama.ru/handbook/rest/wp-routes - базовые маршруты которые WordPress поддерживает из коробки.  
`domain/wp-json/wp/v2/posts` - пример маршрута  
Можно создавать свои маршруты через `register_rest_route()`.

## Как узнать является ли текущий запрос REST запросом
Проверяем наличие константы `REST_REQUEST`

    if( defined('REST_REQUEST') ){
      // REST запрос
    }

## Терминология
- маршрут (route, ресурс, точка доступа)
  - `/wp-json/` маршрут настроенный как ресурс, отображает доступные маршруты
  - все точки доступа (ресурсы): `developer.wordpress.org/rest-api/reference/`
  - endpoints (конечная точка), например `domain/wp-json/myplugin/v1/author-posts/1`
- запрос - запуск ресурсов, прохождение данных
- ответ - предоставление данных
- схема
- класс контроллера - создают собственные маршруты и ресурсы
