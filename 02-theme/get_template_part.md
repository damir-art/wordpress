# get_template_part() - многоразовый код
Если какой-нибудь код в теме WordPress используется более одного раза, то его нужно вынести в отдельный файл и подключать с помощью функции `get_template_part()`.

Подключаемый код, относится к понятию программирования **DRY** *(don't repeat yourself)* - не повторяйся. В вашем проекте, не должно быть ни одного кода, который бы повторялся более одного раза.

Чтобы подключить, ту или иную часть кода к теме, можно вместо `require()` или `include()` использовать спецально для этого созданную функцию WordPress:

    get_template_part();

С помощью данной функции, можно подключать файлы содержащие код:

- хлебных крошек
- меню
- пагинации
- цикла и т.д.

Подключаем файл breadcrumbs.php:

    get_template_part('breadcrumbs');

Подключаем файл breadcrumbs-footer.php:

    get_template_part('breadcrumbs', 'footer');

Пропишем в шаблоне page.php
    
    <?php get_template_part('parts/content', 'page'); ?>
    
Данная строка, будет ссылаться на файл `parts/content-page.php`

## require()
Преимущества по сравнению с `require()` или `include()`:
- не нужно указывать путь до темы,
- возможность использования дочерних тем

Аналог get_header():

    <?php get_header(); ?>
    <?php include(TEMPLATEPATH . '/header.php'); ?>

## Примеры

    // parts/part.php
    get_template_part("parts/part");

    // parts/part-one.php
    get_template_part("parts/part", "one");

    // третьим параметром можно передавать массив данных
    get_template_part("parts/part", "two", array());

## Разное
- https://wp-kama.ru/function/get_template_part

get_template_part() - ищет и подключает указанный файл темы  
echo get_post_format() - выведет формат поста (стандартный формат ничего не выводит)

**template-parts** - папка где хранят часто используемые куски кода шаблонов, например цикл
- функция используемая внутри цикла `get_template_part('template-parts/content', get_post_type())`
- файлы хранящиеся в папке `template-parts`
  - content-none.php
  - content-page.php
  - content-search.php
  - content.php

# get_template_part()
Функция `get_template_part()` является одной из ключевых функций в системе тем WordPress. Она предназначена для того, чтобы включать в шаблон различные части, такие как заголовки, футеры, боковые панели и другие элементы, которые могут повторяться на нескольких страницах. Это делает код темы более структурированным и упрощает его поддержку.

Синтаксис:

```php
get_template_part( $slug, $name );
```

Параметры:
- `$slug`: обязательный параметр, который указывает базовую часть имени файла, которую нужно включить. Обычно это имя директории или название элемента, например, `header`, `footer`, `content` и так далее.
- `$name`: необязательный параметр, который добавляет дополнительную информацию к имени файла. Этот параметр может использоваться для создания уникальных имен файлов для разных ситуаций. Например, если у вас есть несколько видов контента, вы можете использовать этот параметр для их различения.

## Как работает?
Когда вызывается функция `get_template_part($slug, $name)`, WordPress сначала проверяет наличие файла с именем `{slug}-{name}.php`. Если он существует, то включается именно этот файл. Если же файл с таким именем не найден, WordPress пытается включить файл с именем `{slug}.php`.

Например, вызов:

```php
get_template_part('content', 'post');
```

WordPress сначала попробует найти файл `content-post.php`. Если его нет, тогда включит файл `content.php`.

## Примеры использования

### Основной контент поста
В большинстве тем WordPress основной контент отображается через функцию `the_content()`. Однако, вместо того, чтобы писать эту функцию прямо в каждой странице (например, `single.php`), разработчики создают отдельный файл, который затем включают при помощи `get_template_part()`.

```php
// single.php
<?php get_template_part('content', 'single'); ?>
```

Файл `content-single.php` может выглядеть следующим образом:

```html
<!-- content-single.php -->
<article id="post-<?php the_ID(); ?>" <?php post_class(); ?>>
  <h1 class="entry-title"><?php the_title(); ?></h1>
  <div class="entry-content">
    <?php the_content(); ?>
  </div>
</article>
```

### Заголовок и подвал
Заголовок и подвал обычно одинаковы на всех страницах сайта, поэтому их удобно вынести в отдельные файлы и включать везде, где необходимо.

```php
// header.php
<?php get_header(); ?>

// footer.php
<?php get_footer(); ?>
```

А сами файлы `header.php` и `footer.php` будут содержать соответствующие HTML-разметку и PHP-код.

### Боковая панель (sidebar)
Часто боковая панель также стандартизирована для всего сайта, но иногда требуется изменить её содержание в зависимости от типа страницы. Например, на главной странице может быть одна боковая панель, а на страницах записей другая.

```php
// sidebar.php
<?php if ( is_home() ) {
  get_template_part( 'sidebar', 'home' );
} else {
  get_template_part( 'sidebar' );
}
?>
```

Здесь создаётся два варианта боковой панели: `sidebar-home.php` для главной страницы и стандартный `sidebar.php` для остальных случаев.

### Различные типы контента
Вы можете создавать уникальные файлы для каждого типа контента, например, для страниц, записей, архивов и так далее.

```php
// page.php
<?php get_template_part('content', 'page'); ?>

// archive.php
<?php get_template_part('content', 'archive'); ?>

// search.php
<?php get_template_part('content', 'search'); ?>
```

Таким образом, каждый тип контента будет иметь свой уникальный вид.

## Преимущества использования get_template_part()
1. **Структурирование кода**: разделение кода на логические блоки облегчает чтение и понимание структуры темы.
2. **Повторное использование**: один и тот же фрагмент кода можно использовать в разных местах, избегая дублирования.
3. **Поддержка и обновление**: изменение одного фрагмента влияет сразу на все места, где он используется, что упрощает внесение изменений и обновлений.
4. **Гибкость**: возможность создавать уникальные версии элементов для разных ситуаций.

## Заключение
Функция `get_template_part()` является мощным инструментом для разработки тем WordPress. Она позволяет организовывать код темы, делая его более чистым, гибким и удобным для поддержки. Использование этой функции значительно улучшает качество и производительность работы над темой.
