# Цикл (Loop) &ndash; темизация WordPress
Рассмотрим функции цикла. Цикл находится внутри файла index.php, между шапкой и подвалом.

index.php содержит основной цикл, который выводит на экран все существующие записи (посты) сайта.

Количество постов, выводимых файлом index.php, зависит от настроек админки WordPress: Админка > Настройки > Чтение (по-стандарту это 10 постов), после которых идёт постраничная навигация.

Схема цикла WordPress:

    <?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
        <!-- Цикл WordPress -->
        <p>Выводим данные записи. Здесь работают функции для цикла, например, the_title() </p>
        <h2><?php the_title() ?></h2> 
    <?php endwhile; else : ?>
        <p>Записей нет.</p>
    <?php endif; ?>

Функции используемые внутри цикла:

    the_title('<h3>','</h3>'); - вывод заголовка поста
    the_content('Читать далее...'); - вывод контента поста
    the_permalink(); - ссылка на текущий пост
    the_post_thumbnail(); - вывод миниатюры поста
    the_time('j M Y'); - вывод даты и времени создания поста
    the_category(', '); - вывод категории поста
    the_tags(); - вывод меток (тегов) поста
    posts_nav_link(); - вывод ссылок на следующую/предыдущую страницу с постами, после цикла

Остальные:

    the_author(); - вывод автора записи
    edit_post_link('Edit', ' &#124; ', ''); - редактировать пост, для авторизованных
    the_excerpt(); - цитата

## Подробнее о функциях цикла
Проверка на наличие постов:

    <?php if(have_posts()): ?>
        /* Проверяет найдены ли посты на текущей странице */
    <?php endif; ?>

Цикл выводящий все имеющиеся посты блога:

    <?php while(have_posts()): the_post(); ?>
        /* Вывод всех записей */
    <?php endwhile; ?>

## Постраничная навигация
Создаём постраничную навигацию с версии 4.1.

Под циклом нужно разместить:

    <?php the_posts_pagination() ?>

## Работаем с цитатами в цикле
Работаем с цитатами (анонсами) в цикле WordPress

Цитата позволяет выводить отрывок поста, в цикле вывода записей. В конце цитаты появляется: `[...]`.

Чтобы иметь возможность выводить цитаты в цикле WordPress, нужно сделать следующее:

- Поставить галочку, возле слова **Цитата**, на странице создания записи
- Разместь в файле `index.php` функцию the_excerpt(), вместо the_content()

Чтобы манипулировать различными параметрами, например удалении знака [...], количеством слов (при автоматическом выводе цитат) или размещении слов "читать далее" (в конце цитаты), нужно записать различные функции в файл functions.php

При создании поста, автор должен самостоятельно, вписывать цитату в специальное поле. Если же цитата не вписана, то она создастся автоматически и будет вмещать в себя первые 55 слов поста, при этом изображения и html-теги обрезаются.

Eсли вы не хотите использовать цитаты и вам нужно просто обрезать текст без сохранения html-тегов и прочего, то можно воспользоваться следующей строкой внутри цикла WordPress:</p>

    <p>
        <?php echo mb_substr(strip_tags( get_the_content()), 0, 152 ); ?>...
    </p>
    
    где 152 - это количество вставляемых символов

## Разное
- https://wp-kama.ru/id_119/chto-takoe-tsikl-the-loop-v-wordpress.html - цикл WordPress
- https://wp-kama.ru/id_767/3-sposoba-postroeniya-tsiklov-v-wordpress.html - три способа создания цикла в WordPress