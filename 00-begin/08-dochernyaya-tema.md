# Дочерняя тема в WordPress

    /*
      Theme Name: Twenty Twenty-Three Child
      Template: twentytwentythree
    */
    @import url("../twentytwentythree/style.css");

Вместо `@import url("../twentytwentyone/style.css");` в файле `functions.php` можно разместить код:

    // Подключаем файл style.css родительской темы
    // Аргументы: уникальный идентификатор, путь к файлу, массив зависимых файлов, версия скрипта, медиа
    wp_enqueue_style( 'legioner-style', get_template_directory_uri() . '/style.css', array(), '1.0', 'all' );

Дочерние темы создаются в том случае, если тема не пользовательская, а скачана из репозитория.  
Дочерние темы необходимы для того, чтобы иметь возможность править темы не опасаясь обновлений.

Любая тема WordPress (кроме дочерней) может стать родительской. Имя дочерней папки может быть любым, но обычно чтобы не путаться её называют именем родительской темы, плюс добавляют слово `child`, далее идут в админку и активируют дочернюю тему.

Перед тем как начать использовать дочернюю тему, нужно создать папку с её именем `themeName-child` в `wp-content/themes`. Далее размещаем в папке `themeName-child`, настроенный определённым образом файл `style.css`.

Для создания дочерней темы, понадобится лишь один файл `style.css`

## Создаём дочернюю тему WordPres
Рассмотрим пример создания дочерней темы WordPress на примере темы `Twenty Twenty-One` (новейшая официальная тема от WordPress на момент написания статьи).

- В папке `wp-content/themes` создаём папку с названивем `twentytwentyone-child`
- В этой папке создаем файл `style.css` куда помещаем следующий код:

Код:

    /*
      Theme Name: Twenty Twenty-One Child
      Template: twentytwentyone
    */
    @import url("../twentytwentyone/style.css");

где `twentytwentyone` - это имя папки родительской темы (регистрозависимое)

Всё дочерняя тема готова, теперь вся наша работа с темой будет производиться тут.

### Подключаем стили родителя
Подключаем стили родительской темы, дальше можем добавлять свои стили:

    @import url("../twentytwentyone/style.css");

## Файл-шаблоны в дочерней темы
Работаем с файл-шаблонами родителя в дочерней теме.

Файл-шаблоны дочерней темы заменяют собой файл-шаблоны родителя, поэтому сначала:

- копируем файл-шаблон родителя, например `page.php` 
- вставляем в папку дочерней темы
- вносим в него изменения

Если в родительской теме отсутствует какой-либо файл-шаблон, то его можно создать в дочерней теме и WordPress будет подключать его согласно правилам иерархии шаблонов.

## functions.php в дочерней теме
Файл **functions.php** в дочерней теме, это единственный дочерний файл который выполняется первее файла родительской темы. 

Его копировать не надо, просто вставляйте необходимые вам функции отсутствующие в родительской или изменяйте уже существующие.

С помощью хуков WordPress можно получить доступ к функциям родителя. Функцию копируем из родительской, вставляем в дочернюю и изменяем.

В начале файла `functions.php` добавляем открывающий тег `<?php` затем функции:

Добавляем строки между тегами header, например фавиконку:

    function favicon_link() {
      echo '<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />' . "\n";
    }
    add_action('wp_head', 'favicon_link');

Меняем пагинацию:

    function twentytwelve_content_nav( $html_id ) {
      if ( function_exists( 'wp_pagenavi' ) )
        wp_pagenavi();
    }

## Расширенный style.css
У файла style.css есть дополнительные свойства, все они не обязательны. Более расширенная версия файла `style.css`:

    /*
      Theme Name: Twenty Twelve Child      // имя темы обяз
      Theme URI: http://siteName           // сайт или страница посвященная вашей теме не обяз
      Description: Краткое описание темы   // не обяз
      Author: имя автора                   // не обяз
      Author URI: ссылка на профиль автора // не обяз
      Template: twentytwelve               // обяз
      Version: 0.1                         // версия темы не обяз
    */

`не обяз` - не обязательно, если не размещаете тему в репозитории WordPress
