# Настройки после установки
Входим в админку: http://wp-site.loc/wp-login.php

## wp-config.php
Конфигурационный файл WordPress.  
Правим `wp-config.php`, добавляем новые строки после `DB_COLLATE`:

    // Отключаем ревизии
    define('WP_POST_REVISIONS', 0);

    // Интервал автоматического сохранения записей
    define('AUTOSAVE_INTERVAL', 60);

    // Отключаем возможность редактировать файлы вордпресса
    define('DISALLOW_FILE_EDIT', true);

    // Включаем кеширование, понадобится при установке плагинов кеширования
    define('WP_CACHE', true);

    // Включить показ ошибок
    define( 'WP_DEBUG', true );

## Админка
Заходим в админку: `domain/wp-login.php`

### Здоровье сайта
Периодически заглядываем в раздел **Здоровье сайта**:
- Админка WordPress: `Инструменты > Здоровье сайта`
Там будут давать вам рекомендации по безопасности сайта.

### HTTPS (SSL)
Устанавливаем HTTPS (SSL-сертификат).
- Бегет: `Домены и поддомены > SSL напротив имени домена`
Каогда HTTPS добавится, в админке WordPres изменяем протокол с HTTP на HTTPS.
- Админка Wordpress: `Настройки > Общие: Адрес WordPress (URL) и Адрес сайта (URL)`
Время установки от 20 до 60 минут.

### Редирект с HTTP на HTTPS
- Бегет: `Сайты > Шестеренка напротив имени сайта > Редирект`
Время установки до 5 минут.

### PHP 7.4
WordPress может попросить обновить версию PHP до 7.4:
- Бегет: `Сайты > Шестеренка напротив имени сайта`
- Версия PHP ... меняем на необходимую
Предупреждение в админке исчезнет через несколько минут.
Проверяем:
- Админка `WordPress > Инструменты > Здоровье сайта`

### Пользователи > Ваш профиль
* Указываем свои данные, они укажут на автора статей и блога. Данные из профиля видны в RSS ленте (как данные автора), в комментариях и т.д.
* Можно просто изменить ник и установииь его в `Отображать как`

## Настройки
### Настройки > Общие
* Название сайта
* Краткое описание
* Проверка адресов: WordPress, сайт

### Настройки > Написание
Это `http://rpc.pingomatic.com/` наверно не нужно, ведь мы добавим сайт в вебмастер Яндекса и Гугла, также добавим код Метрики и Аналитикса.

Если оставляем, то ставим плагин **WordPress Ping Optimizer** для уменьшения количества пингов, чтобы сайт не приняли за спам.

Сервисы обновлений: https://hoboweb.ru/servisy-obnovlenija-wordpress/

### Настройки > Чтение
* Для каждой статьи в RSS-ленте отображать: `Отрывок`

### Настройки > Обсуждение
* Другие настройки комментариев:
    * Показывать галочку разрешения установки куки для авторов комментариев `(снять галочку)`.
    * Разрешить древовидные (вложенные) комментарии глубиной `(два)` уровней.
* Перед появлением комментария:
    * Комментарий должен быть одобрен вручную `(поставить галочку)`.
* Аватары > Аватар по умолчанию:
    * Ретро (Автоматически).

### Настройки медиафайлы
* 300 x 300
* 800 x 800
* 1600 x 1600

### Постоянные ссылки
* Настройки постоянных ссылок > Общие настройки > Произвольно:
    * `/%category%/%postname%`

## robots.txt
* https://awayne.biz/pravilnyy-robots-txt-dlya-wordpress/
* https://seogio.ru/robots-txt-dlya-wordpress/

Начальный robots.txt, дальше по ситуации:

    User-agent: *
    Disallow: /wp-admin
    Disallow: /wp-includes
    Disallow: /wp-content/plugins
    Disallow: /wp-content/cache
    Disallow: /wp-json/
    Disallow: /xmlrpc.php
    Disallow: /readme.html
    Disallow: /*?
    Disallow: /?s=
    Allow:    /*.css
    Allow:    /*.js
    Allow:    /wp-admin/admin-ajax.php
    Host:     https://site.ru
    Sitemap:  https://site.ru/wp-sitemap.xml

С версии WordPress 5.5 по-умолчанию установлена XML-карта сайта.

## SEO
- Добавляем в вебмастер: Яндекс
- Добавляем в вебмастер: Гугл
- Файлы добавляем на хостинг в корневую папку домена
- Скрипты Метрики и Аналитикса подключаем через плагин `Code Snippets`

## Создаём дочернюю тему
- В папке `wp-content/themes`, создаём папку с именем `twentytwentyone-child`
- В папке `twentytwentyone-child` создаём файл `style.css` см. след. урок.

## Плагины
- Ставим плагин `Code Snippets`, для добавления кода в `functions.php`
- Ставим стандартные часто используемые плагины
- Ставим тему
- Настраиваем тему (перед этим см "Отключаем сжатие изображений")
- Если тема из репозитория, создаем дочернюю
- Ставим начальные плагины

## Далее
* Добавляем в Гугл
* Ставим Метрику, Аналитикс (после установки плагина)
* Или вместо метрик ставим Гугл таг и подключаем скрипты туда
* настраиваем .htaccess

## Разное
- удаляем файл `license.txt`
- удаляем файл `readme.html`
- удаляем `wp-config-sample.php`
